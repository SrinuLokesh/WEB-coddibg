<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation</title>
    <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet"> -->
    <link rel="stylesheet" href="./index.css">

</head>

<body>
    <div class="container">
        <form action="mailto:someone@example.com" method="post" enctype="text/plain" id="form"
            onsubmit="return validate()" target="#" autocomplete="">
            <h1>Registration</h1>
            <div class="input-control">
                <label for="username"> Username 
                <span class="text-danger">*</span>
            </label>
                <input id="name" name="username" type="text" oninput="validate()">
                <span id="error" class="error"></span>
                <!-- <div style="color:red">username is re</div>==$0 -->
            </div>
            <div class="input-control">
                <label for="email">  Email 
                    <span class="text-danger">*</span>
                </label>
                <input id="email" name="email" type="text"  oninput="validate()" >
                <span id="error1" class="error"></span>
            </div>
            <div class="input-control">
                <label for="password">  Password 
                    <span class="text-danger">*</span>
                </label>
                <input id="password" name="password" type="password"  oninput="validate()" >
                <span id="error2" class="error"></span>
            </div>
            <div class="input-control">
                <label for="password2">  Password again 
                    <span class="text-danger">*</span>
                </label>
                <input id="password1"  type="password"   oninput="validate()">
                <span id="error3" class="error"></span>
            </div>
            <button >Submit</button>

        </form>
    </div>
    <script>

            function validate() {

                var n = document.getElementById("name").value;
                var namevalue = /^[A-Za-z. ]{1,15}$/;
                if (n == "") {
                    document.getElementById("error").innerHTML = " required";
                    return false;
                }
                if (n.charAt(0)== ' ') {
                    document.getElementById("error").innerHTML = "space is not alloewd at first";
                    return false;
                }
                // if (n.length < 3) {
                //     document.getElementById("error").innerHTML = "length is more then 3";
                //     return false;
                // }
                if (n.length >15) {
                    document.getElementById("error").innerHTML = "Username is lengthy";
                    return false;
                }
                 if(!namevalue.test(n))
                 {
                 document.getElementById("error").innerHTML="Numbers are not allowed";
                    return false;
                 }
                
                else {
                    document.getElementById("error").innerHTML = "";
                }



                var e = document.getElementById("email").value;
                var isValidEmail = e => {
                    var re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+))|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                    return re.test(String(e).toLowerCase());
                }
                if (e == "") {
                    document.getElementById("error1").innerHTML = " email required";
                    return false;
                }
                if (e == " ") {
                    document.getElementById("error1").innerHTML = "space is not alloewd at first";
                    return false;
                }
                if (!isValidEmail(e)) {
                    document.getElementById("error1").innerHTML = "please provide valid email";
                    return false;
                }
                if(e.length>20)
                {
                    document.getElementById("error1").innerHTML="email is lengthy";

                }
                else {
                    document.getElementById("error1").innerHTML = "";
                }


                var p = document.getElementById("password").value;
                var p1 = document.getElementById("password1").value;

                if (p == "") {
                    document.getElementById("error2").innerHTML = " password required";
                    return false;
                }
                if (p == " ") {
                    document.getElementById("error2").innerHTML = "space is not allowed";
                    return false;
                }
                if (p.length < 8) {
                    document.getElementById("error2").innerHTML = "password atleast 8 charecters";
                    return false;
                }
                else {
                    document.getElementById("error2").innerHTML = "";
                }

                if (p1 == "") {

                    document.getElementById("error3").innerHTML = "  re-type password required  ";
                    return false;
                }
                
                if (p1 == " ") {

                    document.getElementById("error3").innerHTML = "space is not allowed ";
                    return false;
                }
                if (p1 !== p) {
                    document.getElementById("error3").innerHTML = "password does not match";
                    return false;
                }
                else {
                    document.getElementById("error3").innerHTML = "";
                }

            }
        </script>

</body>


</html>